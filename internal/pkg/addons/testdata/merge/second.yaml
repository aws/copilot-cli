# The indentation and the exact line where a field appears should be ignored.
Metadata:
  Databases:
    users: Database for users.
    payments: Database for payments.

  # The HeadComment -- comments preceding the node -- should be ignored.
  Version: 1 #  The LineComment -- comment at the end of the node -- should be ignored.
  # The FootComments -- comments after the node -- should be ignored.
  # Continuation of foot comment.

  # Different Styles of definition a node should be ignored (single quote, double quote, flow, ...)
  Services: ['api', "fe"]

Parameters:
    # Different indentation and order should not matter.
    Name:
      Type: String
      Description: The name of the service, job, or workflow being deployed.
    App: # Line comment is ignored.
        Type: String
        Description: Your application's name.
    Env:
          Type: String
          Description: The environment name your service, job, or workflow is being deployed to.
    IsProd:
      Type: String
      Default: "false"
    InstanceType:
      Type: 'AWS::SSM::Parameter::Value<String>'

Mappings:
  MyTableDynamoDBSettings:
    prod: # Another ignored comment.
    # Comments and position should not matter.

      RCU: 50
      WCU: 25
    test:
          RCU: 5
          WCU: 5
    gamma:
      RCU: 10
      WCU: 10
  MyLambdaSettings:
    test:
      MemorySize: 512
    prod:
      MemorySize: 1024

Conditions:
  IsProd: !Equals [!Ref Env, prod]
  IsTest:
    !Not [!Equals [ !Ref Env, "prod" ]]
  ExportOutputs: !Or
    - !Condition IsProd
    - !Condition IsTest