
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Develop, Release and Operate Container Apps on AWS.">
      
      
      
      
        <link rel="canonical" href="https://aws.github.io/copilot-cli/docs/manifest/lb-web-service/">
      
      <link rel="icon" href="../../../assets/images/cli.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.6">
    
    
      
        <title>Load Balanced Web Service - AWS Copilot CLI</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a57b2b03.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#ffffff">
        
      
    
    
    
      
    
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    
      

  


  

  


  <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7S4JR3KFHK"),document.addEventListener("DOMContentLoaded",function(){"undefined"!=typeof location$&&location$.subscribe(function(t){gtag("config","G-7S4JR3KFHK",{page_path:t.pathname})})})</script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7S4JR3KFHK"></script>


    
    



  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="white" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <!-- Application header -->
<header class="md-header" data-md-component="header">

  <!-- Top-level navigation -->
  <nav class="md-header__inner md-grid" aria-label="Header">

    <!-- Link to home -->
    <a href="https://aws.github.io/copilot-cli/" title="AWS Copilot CLI" class="md-header__button md-logo" aria-label="AWS Copilot CLI">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M0 2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25V2.75zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25H1.75zM7.25 8a.75.75 0 0 1-.22.53l-2.25 2.25a.75.75 0 1 1-1.06-1.06L5.44 8 3.72 6.28a.75.75 0 1 1 1.06-1.06l2.25 2.25c.141.14.22.331.22.53zm1.5 1.5a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3z"/></svg>

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AWS Copilot CLI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Load Balanced Web Service
            
          </span>
        </div>
      </div>
    </div>

    <!-- Site language selector -->
    
    <div class="md-header__option"></form>
      <div class="md-select">
        
        <button class="md-header__button md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24z"/></svg>
        </button>
        <div class="md-select__inner">
          <ul class="md-select__list">
            
            <li class="md-select__item">
              <a
                      href="../../../en/"
                      hreflang="en"
                      class="md-select__link"
              >
                English
              </a>
            </li>
            
            <li class="md-select__item">
              <a
                      href="../../../ja/"
                      hreflang="ja"
                      class="md-select__link"
              >
                日本語
              </a>
            </li>
            
          </ul>
        </div>
      </div>
    </div>
    

    <!-- Button to open search dialogue -->
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>

      <!-- Search interface -->
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository containing source -->
    
      <div class="md-header__source">
        
<a href="https://github.com/aws/copilot-cli/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    aws/copilot-cli
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../overview/" class="md-tabs__link md-tabs__link--active">
        Documentation
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../blogs/release-v133/" class="md-tabs__link">
        Blogs
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../community/get-involved/" class="md-tabs__link">
        Community
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="AWS Copilot CLI" class="md-nav__button md-logo" aria-label="AWS Copilot CLI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M0 2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25V2.75zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25H1.75zM7.25 8a.75.75 0 0 1-.22.53l-2.25 2.25a.75.75 0 1 1-1.06-1.06L5.44 8 3.72 6.28a.75.75 0 1 1 1.06-1.06l2.25 2.25c.141.14.22.331.22.53zm1.5 1.5a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3z"/></svg>

    </a>
    AWS Copilot CLI
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/aws/copilot-cli/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    aws/copilot-cli
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Documentation" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/install/" class="md-nav__link">
        Install Copilot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/verify/" class="md-nav__link">
        (Optional) Verify the installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/first-app-tutorial/" class="md-nav__link">
        Deploy your first application
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3">
          Concepts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Concepts" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/applications/" class="md-nav__link">
        Applications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/environments/" class="md-nav__link">
        Environments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/jobs/" class="md-nav__link">
        Jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../credentials/" class="md-nav__link">
        Credentials
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" type="checkbox" id="__nav_2_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_5">
          Manifest
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Manifest" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          Manifest
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../backend-service/" class="md-nav__link">
        Backend Service
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Load Balanced Web Service
      </a>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rd-web-service/" class="md-nav__link">
        Request-Driven Web Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scheduled-job/" class="md-nav__link">
        Scheduled Job
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../static-site/" class="md-nav__link">
        Static Site
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../worker-service/" class="md-nav__link">
        Worker Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pipeline/" class="md-nav__link">
        Pipeline
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6" type="checkbox" id="__nav_2_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_6">
          Developing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developing" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_6">
          <span class="md-nav__icon md-icon"></span>
          Developing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6_1" type="checkbox" id="__nav_2_6_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_6_1">
          Additional AWS Resources
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Additional AWS Resources" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_6_1">
          <span class="md-nav__icon md-icon"></span>
          Additional AWS Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/addons/workload/" class="md-nav__link">
        Additional Workload Resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/addons/environment/" class="md-nav__link">
        Additional Environment Resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/addons/package/" class="md-nav__link">
        Uploading Local Artifacts
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/environment-variables/" class="md-nav__link">
        Container Environment Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/content-delivery/" class="md-nav__link">
        Content Delivery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/custom-environment-resources/" class="md-nav__link">
        Custom Environment Resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/domain/" class="md-nav__link">
        Domain
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6_6" type="checkbox" id="__nav_2_6_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_6_6">
          Extend Copilot with Overrides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Extend Copilot with Overrides" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_6_6">
          <span class="md-nav__icon md-icon"></span>
          Extend Copilot with Overrides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/overrides/yamlpatch/" class="md-nav__link">
        YAML Patch Overrides
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/overrides/cdk/" class="md-nav__link">
        CDK Overrides
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/overrides/taskdef-overrides/" class="md-nav__link">
        Task Definition Overrides
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/internal-albs/" class="md-nav__link">
        Internal Load Balancers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/manifest-env-var/" class="md-nav__link">
        Manifest Environment Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/observability/" class="md-nav__link">
        Observability
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/publish-subscribe/" class="md-nav__link">
        Publish/Subscribe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/secrets/" class="md-nav__link">
        Secrets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/svc-to-svc-communication/" class="md-nav__link">
        Service-to-Service Communication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/sidecars/" class="md-nav__link">
        Sidecars
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/storage/" class="md-nav__link">
        Storage
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7" type="checkbox" id="__nav_2_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_7">
          Commands
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Commands" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_7">
          <span class="md-nav__icon md-icon"></span>
          Commands
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7_1" type="checkbox" id="__nav_2_7_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_7_1">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_7_1">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/docs/" class="md-nav__link">
        docs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/init/" class="md-nav__link">
        init
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7_2" type="checkbox" id="__nav_2_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_7_2">
          Build
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Build" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_7_2">
          <span class="md-nav__icon md-icon"></span>
          Build
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/app-init/" class="md-nav__link">
        app init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/app-upgrade/" class="md-nav__link">
        app upgrade
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/app-delete/" class="md-nav__link">
        app delete
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/env-init/" class="md-nav__link">
        env init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/env-override/" class="md-nav__link">
        env override
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/env-package/" class="md-nav__link">
        env package
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/env-delete/" class="md-nav__link">
        env delete
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-init/" class="md-nav__link">
        job init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-override/" class="md-nav__link">
        job override
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-package/" class="md-nav__link">
        job package
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-delete/" class="md-nav__link">
        job delete
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-init/" class="md-nav__link">
        svc init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-override/" class="md-nav__link">
        svc override
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-package/" class="md-nav__link">
        svc package
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-delete/" class="md-nav__link">
        svc delete
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/run-local/" class="md-nav__link">
        run local
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7_3" type="checkbox" id="__nav_2_7_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_7_3">
          Release
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Release" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_7_3">
          <span class="md-nav__icon md-icon"></span>
          Release
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/env-deploy/" class="md-nav__link">
        env deploy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-deploy/" class="md-nav__link">
        job deploy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/pipeline-init/" class="md-nav__link">
        pipeline init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/pipeline-deploy/" class="md-nav__link">
        pipeline deploy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/pipeline-ls/" class="md-nav__link">
        pipeline ls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/pipeline-override/" class="md-nav__link">
        pipeline override
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/pipeline-show/" class="md-nav__link">
        pipeline show
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/pipeline-status/" class="md-nav__link">
        pipeline status
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/pipeline-delete/" class="md-nav__link">
        pipeline delete
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-deploy/" class="md-nav__link">
        svc deploy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/deploy/" class="md-nav__link">
        deploy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7_4" type="checkbox" id="__nav_2_7_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_7_4">
          Operate
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Operate" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_7_4">
          <span class="md-nav__icon md-icon"></span>
          Operate
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/app-ls/" class="md-nav__link">
        app ls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/app-show/" class="md-nav__link">
        app show
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/env-ls/" class="md-nav__link">
        env ls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/env-show/" class="md-nav__link">
        env show
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-ls/" class="md-nav__link">
        job ls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-logs/" class="md-nav__link">
        job logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-run/" class="md-nav__link">
        job run
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-ls/" class="md-nav__link">
        svc ls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-show/" class="md-nav__link">
        svc show
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-status/" class="md-nav__link">
        svc status
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-logs/" class="md-nav__link">
        svc logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-exec/" class="md-nav__link">
        svc exec
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/task-run/" class="md-nav__link">
        task run
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/task-exec/" class="md-nav__link">
        task exec
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/task-delete/" class="md-nav__link">
        task delete
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7_5" type="checkbox" id="__nav_2_7_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_7_5">
          Extend
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Extend" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_7_5">
          <span class="md-nav__icon md-icon"></span>
          Extend
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/secret-init/" class="md-nav__link">
        secret init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/storage-init/" class="md-nav__link">
        storage init
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7_6" type="checkbox" id="__nav_2_7_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_7_6">
          Settings
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Settings" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_7_6">
          <span class="md-nav__icon md-icon"></span>
          Settings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/version/" class="md-nav__link">
        version
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/completion/" class="md-nav__link">
        completion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7_7" type="checkbox" id="__nav_2_7_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_7_7">
          All
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="All" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_7_7">
          <span class="md-nav__icon md-icon"></span>
          All
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/app-delete/" class="md-nav__link">
        app delete
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/app-init/" class="md-nav__link">
        app init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/app-ls/" class="md-nav__link">
        app ls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/app-show/" class="md-nav__link">
        app show
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/app-upgrade/" class="md-nav__link">
        app upgrade
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/completion/" class="md-nav__link">
        completion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/deploy/" class="md-nav__link">
        deploy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/docs/" class="md-nav__link">
        docs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/env-delete/" class="md-nav__link">
        env delete
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/env-deploy/" class="md-nav__link">
        env deploy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/env-init/" class="md-nav__link">
        env init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/env-ls/" class="md-nav__link">
        env ls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/env-override/" class="md-nav__link">
        env override
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/env-package/" class="md-nav__link">
        env package
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/env-show/" class="md-nav__link">
        env show
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/init/" class="md-nav__link">
        init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-delete/" class="md-nav__link">
        job delete
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-deploy/" class="md-nav__link">
        job deploy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-init/" class="md-nav__link">
        job init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-logs/" class="md-nav__link">
        job logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-ls/" class="md-nav__link">
        job ls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-override/" class="md-nav__link">
        job override
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-package/" class="md-nav__link">
        job package
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/job-run/" class="md-nav__link">
        job run
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/pipeline-delete/" class="md-nav__link">
        pipeline delete
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/pipeline-deploy/" class="md-nav__link">
        pipeline deploy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/pipeline-init/" class="md-nav__link">
        pipeline init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/pipeline-ls/" class="md-nav__link">
        pipeline ls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/pipeline-override/" class="md-nav__link">
        pipeline override
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/pipeline-show/" class="md-nav__link">
        pipeline show
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/pipeline-status/" class="md-nav__link">
        pipeline status
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/run-local/" class="md-nav__link">
        run local
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/secret-init/" class="md-nav__link">
        secret init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/storage-init/" class="md-nav__link">
        storage init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-delete/" class="md-nav__link">
        svc delete
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-deploy/" class="md-nav__link">
        svc deploy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-exec/" class="md-nav__link">
        svc exec
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-init/" class="md-nav__link">
        svc init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-logs/" class="md-nav__link">
        svc logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-ls/" class="md-nav__link">
        svc ls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-override/" class="md-nav__link">
        svc override
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-package/" class="md-nav__link">
        svc package
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-show/" class="md-nav__link">
        svc show
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-status/" class="md-nav__link">
        svc status
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-pause/" class="md-nav__link">
        svc pause
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/svc-resume/" class="md-nav__link">
        svc resume
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/task-delete/" class="md-nav__link">
        task delete
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/task-exec/" class="md-nav__link">
        task exec
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/task-run/" class="md-nav__link">
        task run
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/version/" class="md-nav__link">
        version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Blogs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Blogs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Blogs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v133/" class="md-nav__link">
        Release v1.33
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v132/" class="md-nav__link">
        Release v1.32
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v131/" class="md-nav__link">
        Release v1.31
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v130/" class="md-nav__link">
        Release v1.30
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v129/" class="md-nav__link">
        Release v1.29
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v128/" class="md-nav__link">
        Release v1.28
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v127/" class="md-nav__link">
        Release v1.27
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/apprunner-waf/" class="md-nav__link">
        AWS App Runner WAF
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v126/" class="md-nav__link">
        Release v1.26
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v125/" class="md-nav__link">
        Release v1.25
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v124/" class="md-nav__link">
        Release v1.24
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v123/" class="md-nav__link">
        Release v1.23
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v122/" class="md-nav__link">
        Release v1.22
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v121/" class="md-nav__link">
        Release v1.21
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v120/" class="md-nav__link">
        Release v1.20
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/apprunner-vpc/" class="md-nav__link">
        AWS App Runner VPC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v119/" class="md-nav__link">
        Release v1.19
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v118/" class="md-nav__link">
        Release v1.18
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v117/" class="md-nav__link">
        Release v1.17
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../blogs/release-v116/" class="md-nav__link">
        Release v1.16
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Community
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Community" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Community
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/get-involved/" class="md-nav__link">
        Get Involved
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/guides/" class="md-nav__link">
        Guides and Resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/aws/copilot-cli/edit/mainline/site/content/docs/manifest/lb-web-service.en.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Load Balanced Web Service</h1>
                
                <p>List of all available properties for a <code>'Load Balanced Web Service'</code> manifest. To learn about Copilot services, see the <a href="../../concepts/services/">Services</a> concept page.</p>
<details class="note" open="open"><summary>Sample internet-facing service manifests</summary><div class="tabbed-set tabbed-alternate" data-tabs="1:9"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><input id="__tabbed_1_5" name="__tabbed_1" type="radio" /><input id="__tabbed_1_6" name="__tabbed_1" type="radio" /><input id="__tabbed_1_7" name="__tabbed_1" type="radio" /><input id="__tabbed_1_8" name="__tabbed_1" type="radio" /><input id="__tabbed_1_9" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Basic</label><label for="__tabbed_1_2">With a domain</label><label for="__tabbed_1_3">Larger containers</label><label for="__tabbed_1_4">Autoscaling</label><label for="__tabbed_1_5">Event-driven</label><label for="__tabbed_1_6">Network Load Balancer</label><label for="__tabbed_1_7">Shared file system</label><label for="__tabbed_1_8">End-to-end encryption</label><label for="__tabbed_1_9">Expose Multiple Ports</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span> <span class="s">&#39;frontend&#39;</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&#39;Load</span><span class="nv"> </span><span class="s">Balanced</span><span class="nv"> </span><span class="s">Web</span><span class="nv"> </span><span class="s">Service&#39;</span>

<span class="nt">image</span><span class="p">:</span>
  <span class="nt">build</span><span class="p">:</span> <span class="s">&#39;./frontend/Dockerfile&#39;</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>

<span class="nt">http</span><span class="p">:</span>
  <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;/&#39;</span>
  <span class="nt">healthcheck</span><span class="p">:</span> <span class="s">&#39;/_healthcheck&#39;</span>

<span class="nt">cpu</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">256</span>
<span class="nt">memory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">512</span>
<span class="nt">count</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="nt">exec</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="nt">variables</span><span class="p">:</span>
  <span class="nt">LOG_LEVEL</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">info</span>
<span class="nt">secrets</span><span class="p">:</span>
  <span class="nt">GITHUB_TOKEN</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">GITHUB_TOKEN</span>
  <span class="nt">DB_SECRET</span><span class="p">:</span>
    <span class="nt">secretsmanager</span><span class="p">:</span> <span class="s">&#39;mysql&#39;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span> <span class="s">&#39;frontend&#39;</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&#39;Load</span><span class="nv"> </span><span class="s">Balanced</span><span class="nv"> </span><span class="s">Web</span><span class="nv"> </span><span class="s">Service&#39;</span>

<span class="nt">image</span><span class="p">:</span>
  <span class="nt">build</span><span class="p">:</span> <span class="s">&#39;./frontend/Dockerfile&#39;</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>

<span class="nt">http</span><span class="p">:</span>
  <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;/&#39;</span>
  <span class="nt">alias</span><span class="p">:</span> <span class="s">&#39;example.com&#39;</span>

<span class="nt">environments</span><span class="p">:</span>
  <span class="nt">qa</span><span class="p">:</span>
    <span class="nt">http</span><span class="p">:</span>
      <span class="nt">alias</span><span class="p">:</span> <span class="c1"># The &quot;qa&quot; environment imported a certificate.</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&#39;qa.example.com&#39;</span>
          <span class="nt">hosted_zone</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Z0873220N255IR3MTNR4</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># For example, we might want to warm up our Java service before accepting external traffic.</span>
<span class="nt">name</span><span class="p">:</span> <span class="s">&#39;frontend&#39;</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&#39;Load</span><span class="nv"> </span><span class="s">Balanced</span><span class="nv"> </span><span class="s">Web</span><span class="nv"> </span><span class="s">Service&#39;</span>

<span class="nt">image</span><span class="p">:</span>
  <span class="nt">build</span><span class="p">:</span>
    <span class="nt">dockerfile</span><span class="p">:</span> <span class="s">&#39;./frontend/Dockerfile&#39;</span>
    <span class="nt">context</span><span class="p">:</span> <span class="s">&#39;./frontend&#39;</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>

<span class="nt">http</span><span class="p">:</span>
  <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;/&#39;</span>
  <span class="nt">healthcheck</span><span class="p">:</span>
    <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;/_deephealthcheck&#39;</span>
    <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>
    <span class="nt">success_codes</span><span class="p">:</span> <span class="s">&#39;200,301&#39;</span>
    <span class="nt">healthy_threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
    <span class="nt">unhealthy_threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
    <span class="nt">interval</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">15s</span>
    <span class="nt">timeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10s</span>
    <span class="nt">grace_period</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2m</span>
  <span class="nt">deregistration_delay</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">50s</span>
  <span class="nt">stickiness</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">allowed_source_ips</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;10.24.34.0/23&quot;</span><span class="p p-Indicator">]</span>

<span class="nt">cpu</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2048</span>
<span class="nt">memory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4096</span>
<span class="nt">count</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="nt">storage</span><span class="p">:</span>
  <span class="nt">ephemeral</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>

<span class="nt">network</span><span class="p">:</span>
  <span class="nt">vpc</span><span class="p">:</span>
    <span class="nt">placement</span><span class="p">:</span> <span class="s">&#39;private&#39;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span> <span class="s">&#39;frontend&#39;</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&#39;Load</span><span class="nv"> </span><span class="s">Balanced</span><span class="nv"> </span><span class="s">Web</span><span class="nv"> </span><span class="s">Service&#39;</span>

<span class="nt">http</span><span class="p">:</span>
  <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;/&#39;</span>
<span class="nt">image</span><span class="p">:</span>
  <span class="nt">location</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">aws_account_id.dkr.ecr.us-west-2.amazonaws.com/frontend:latest</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>

<span class="nt">cpu</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">512</span>
<span class="nt">memory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1024</span>
<span class="nt">count</span><span class="p">:</span>
  <span class="nt">range</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1-10</span>
  <span class="nt">cooldown</span><span class="p">:</span>
    <span class="nt">in</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">60s</span>
    <span class="nt">out</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30s</span>
  <span class="nt">cpu_percentage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">70</span>
  <span class="nt">requests</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>
  <span class="nt">response_time</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2s</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># See https://aws.github.io/copilot-cli/docs/developing/publish-subscribe/</span>
<span class="nt">name</span><span class="p">:</span> <span class="s">&#39;orders&#39;</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&#39;Load</span><span class="nv"> </span><span class="s">Balanced</span><span class="nv"> </span><span class="s">Web</span><span class="nv"> </span><span class="s">Service&#39;</span>

<span class="nt">image</span><span class="p">:</span>
  <span class="nt">build</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Dockerfile</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="nt">http</span><span class="p">:</span>
  <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;/&#39;</span>
  <span class="nt">alias</span><span class="p">:</span> <span class="s">&#39;orders.example.com&#39;</span>

<span class="nt">variables</span><span class="p">:</span>
  <span class="nt">DDB_TABLE_NAME</span><span class="p">:</span> <span class="s">&#39;orders&#39;</span>

<span class="nt">publish</span><span class="p">:</span>
  <span class="nt">topics</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&#39;products&#39;</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&#39;orders&#39;</span>
      <span class="nt">fifo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span> <span class="s">&#39;frontend&#39;</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&#39;Load</span><span class="nv"> </span><span class="s">Balanced</span><span class="nv"> </span><span class="s">Web</span><span class="nv"> </span><span class="s">Service&#39;</span>

<span class="nt">image</span><span class="p">:</span>
  <span class="nt">build</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Dockerfile</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>

<span class="nt">http</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">nlb</span><span class="p">:</span>
  <span class="nt">alias</span><span class="p">:</span> <span class="s">&#39;example.com&#39;</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80/tcp</span>
  <span class="nt">target_container</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">envoy</span>

<span class="nt">network</span><span class="p">:</span>
  <span class="nt">vpc</span><span class="p">:</span>
    <span class="nt">placement</span><span class="p">:</span> <span class="s">&#39;private&#39;</span>

<span class="nt">sidecars</span><span class="p">:</span>
  <span class="nt">envoy</span><span class="p">:</span>
    <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">aws_account_id.dkr.ecr.us-west-2.amazonaws.com/envoy:latest</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># See http://localhost:8000/copilot-cli/docs/developing/storage/#file-systems</span>
<span class="nt">name</span><span class="p">:</span> <span class="s">&#39;frontend&#39;</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&#39;Load</span><span class="nv"> </span><span class="s">Balanced</span><span class="nv"> </span><span class="s">Web</span><span class="nv"> </span><span class="s">Service&#39;</span>

<span class="nt">image</span><span class="p">:</span>
  <span class="nt">build</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Dockerfile</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
  <span class="nt">depends_on</span><span class="p">:</span>
    <span class="nt">bootstrap</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">success</span>

<span class="nt">http</span><span class="p">:</span>
  <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;/&#39;</span>

<span class="nt">storage</span><span class="p">:</span>
  <span class="nt">volumes</span><span class="p">:</span>
    <span class="nt">wp</span><span class="p">:</span>
      <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/bitnami/wordpress</span>
      <span class="nt">read_only</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
      <span class="nt">efs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="c1"># Hydrate the file system with some content using the bootstrap container.</span>
<span class="nt">sidecars</span><span class="p">:</span>
  <span class="nt">bootstrap</span><span class="p">:</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">aws_account_id.dkr.ecr.us-west-2.amazonaws.com/bootstrap:v1.0.0</span>
    <span class="nt">essential</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
    <span class="nt">mount_points</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">source_volume</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">wp</span>
        <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/bitnami/wordpress</span>
        <span class="nt">read_only</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span> <span class="s">&#39;frontend&#39;</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&#39;Load</span><span class="nv"> </span><span class="s">Balanced</span><span class="nv"> </span><span class="s">Web</span><span class="nv"> </span><span class="s">Service&#39;</span>

<span class="nt">image</span><span class="p">:</span>
  <span class="nt">build</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Dockerfile</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>

<span class="nt">http</span><span class="p">:</span>
  <span class="nt">alias</span><span class="p">:</span> <span class="s">&#39;example.com&#39;</span>
  <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;/&#39;</span>
  <span class="nt">healthcheck</span><span class="p">:</span>
    <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;/_health&#39;</span>

  <span class="c1"># The envoy container&#39;s port is 443 resulting in the protocol and health check protocol to be to &quot;HTTPS&quot; </span>
  <span class="c1"># so that the load balancer establishes TLS connections with the Fargate tasks using certificates that you </span>
  <span class="c1"># install on the envoy container. These certificates can be self-signed.</span>
  <span class="nt">target_container</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">envoy</span>

<span class="nt">sidecars</span><span class="p">:</span>
  <span class="nt">envoy</span><span class="p">:</span>
    <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">443</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">aws_account_id.dkr.ecr.us-west-2.amazonaws.com/envoy-proxy-with-selfsigned-certs:v1</span>

<span class="nt">network</span><span class="p">:</span>
  <span class="nt">vpc</span><span class="p">:</span>
    <span class="nt">placement</span><span class="p">:</span> <span class="s">&#39;private&#39;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span> <span class="s">&#39;frontend&#39;</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&#39;Load</span><span class="nv"> </span><span class="s">Balanced</span><span class="nv"> </span><span class="s">Web</span><span class="nv"> </span><span class="s">Service&#39;</span>

<span class="nt">image</span><span class="p">:</span>
  <span class="nt">build</span><span class="p">:</span> <span class="s">&#39;./frontend/Dockerfile&#39;</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>

<span class="nt">nlb</span><span class="p">:</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080/tcp</span>              <span class="c1"># Traffic on port 8080/tcp is forwarded to the main container, on port 8080.</span>
  <span class="nt">additional_listeners</span><span class="p">:</span>  
    <span class="p p-Indicator">-</span> <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8084/tcp</span>          <span class="c1"># Traffic on port 8084/tcp is forwarded to the main container, on port 8084.</span>
    <span class="p p-Indicator">-</span> <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8085/tcp</span>          <span class="c1"># Traffic on port 8085/tcp is forwarded to the sidecar &quot;envoy&quot;, on port 3000.</span>
      <span class="nt">target_port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3000</span>         
      <span class="nt">target_container</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">envoy</span>   

<span class="nt">http</span><span class="p">:</span>
  <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;/&#39;</span>
  <span class="nt">target_port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8083</span>           <span class="c1"># Traffic on &quot;/&quot; is forwarded to the main container, on port 8083. </span>
  <span class="nt">additional_rules</span><span class="p">:</span> 
    <span class="p p-Indicator">-</span> <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;customerdb&#39;</span>
      <span class="nt">target_port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8081</span>       <span class="c1"># Traffic on &quot;/customerdb&quot; is forwarded to the main container, on port 8083.  </span>
    <span class="p p-Indicator">-</span> <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;admin&#39;</span>
      <span class="nt">target_port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8082</span>       <span class="c1"># Traffic on &quot;/admin&quot; is forwarded to the sidecar &quot;envoy&quot;, on port 8082.</span>
      <span class="nt">target_container</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">envoy</span>    

<span class="nt">sidecars</span><span class="p">:</span>
  <span class="nt">envoy</span><span class="p">:</span>
    <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">aws_account_id.dkr.ecr.us-west-2.amazonaws.com/envoy-proxy-with-selfsigned-certs:v1</span>
</code></pre></div>
</div>
</div>
</div>
</details>
<p><a id="name" href="#name" class="field"><code>name</code></a> <span class="type">String</span><br />
The name of your service.</p>
<div class="separator"></div>

<p><a id="type" href="#type" class="field"><code>type</code></a> <span class="type">String</span><br />
The architecture type for your service. A <a href="../../concepts/services/#load-balanced-web-service">Load Balanced Web Service</a> is an internet-facing service that's behind a load balancer, orchestrated by Amazon ECS on AWS Fargate.</p>
<div class="separator"></div>

<p><a id="http" href="#http" class="field"><code>http</code></a> <span class="type">Boolean or Map</span><br />
The http section contains parameters related to integrating your service with an Application Load Balancer.</p>
<p>To disable the Application Load Balancer, specify <code>http: false</code>. Note that for a Load-Balanced Web Service,
at least one of Application Load Balancer or Network Load Balancer must be enabled.</p>
<p><span class="parent-field">http.</span><a id="http-path" href="#http-path" class="field"><code>path</code></a> <span class="type">String</span><br />
Requests to this path will be forwarded to your service. Each listener rule should listen on a unique path.</p>
<p><span class="parent-field">http.</span><a id="http-alb" href="#http-alb" class="field"><code>alb</code></a> <span class="type">String</span> <span class="version">Added in <a href="../../../blogs/release-v132/#imported-albs">v1.32.0</a></span><br />
The ARN or name of an existing public-facing ALB to import. Listener rules will be added to your listener(s). Copilot will not manage DNS-related resources like certificates. </p>
<p><span class="parent-field">http.</span><a id="http-healthcheck" href="#http-healthcheck" class="field"><code>healthcheck</code></a> <span class="type">String or Map</span><br />
If you specify a string, Copilot interprets it as the path exposed in your container to handle target group health check requests. The default is "/".
<div class="highlight"><pre><span></span><code><span class="nt">http</span><span class="p">:</span>
  <span class="nt">healthcheck</span><span class="p">:</span> <span class="s">&#39;/&#39;</span>
</code></pre></div>
You can also specify healthcheck as a map:
<div class="highlight"><pre><span></span><code><span class="nt">http</span><span class="p">:</span>
  <span class="nt">healthcheck</span><span class="p">:</span>
    <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;/&#39;</span>
    <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>
    <span class="nt">success_codes</span><span class="p">:</span> <span class="s">&#39;200&#39;</span>
    <span class="nt">healthy_threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
    <span class="nt">unhealthy_threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
    <span class="nt">interval</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">15s</span>
    <span class="nt">timeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10s</span>
    <span class="nt">grace_period</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">60s</span>
</code></pre></div></p>
<p><span class="parent-field">http.healthcheck.</span><a id="http-healthcheck-path" href="#http-healthcheck-path" class="field"><code>path</code></a> <span class="type">String</span><br />
The destination that the health check requests are sent to.</p>
<p><span class="parent-field">http.healthcheck.</span><a id="http-healthcheck-port" href="#http-healthcheck-port" class="field"><code>port</code></a> <span class="type">Integer</span><br />
The port that the health check requests are sent to. The default is <a href="./#image-port"><code>image.port</code></a>, or the port exposed by <a href="./#http-target-container"><code>http.target_container</code></a>, if set.<br />
If the port exposed is <code>443</code>, then the health check protocol is automatically set to HTTPS.</p>
<p><span class="parent-field">http.healthcheck.</span><a id="http-healthcheck-success-codes" href="#http-healthcheck-success-codes" class="field"><code>success_codes</code></a> <span class="type">String</span><br />
The HTTP status codes that healthy targets must use when responding to an HTTP health check. You can specify values between 200 and 499. You can specify multiple values (for example, "200,202") or a range of values (for example, "200-299"). The default is 200.</p>
<p><span class="parent-field">http.healthcheck.</span><a id="http-healthcheck-healthy-threshold" href="#http-healthcheck-healthy-threshold" class="field"><code>healthy_threshold</code></a> <span class="type">Integer</span><br />
The number of consecutive health check successes required before considering an unhealthy target healthy. The default is 5. Range: 2-10.</p>
<p><span class="parent-field">http.healthcheck.</span><a id="http-healthcheck-unhealthy-threshold" href="#http-healthcheck-unhealthy-threshold" class="field"><code>unhealthy_threshold</code></a> <span class="type">Integer</span><br />
The number of consecutive health check failures required before considering a target unhealthy. The default is 2. Range: 2-10.</p>
<p><span class="parent-field">http.healthcheck.</span><a id="http-healthcheck-interval" href="#http-healthcheck-interval" class="field"><code>interval</code></a> <span class="type">Duration</span><br />
The approximate amount of time, in seconds, between health checks of an individual target. The default is 30s. Range: 5s–300s.</p>
<p><span class="parent-field">http.healthcheck.</span><a id="http-healthcheck-timeout" href="#http-healthcheck-timeout" class="field"><code>timeout</code></a> <span class="type">Duration</span><br />
The amount of time, in seconds, during which no response from a target means a failed health check. The default is 5s. Range 5s-300s.</p>
<p><span class="parent-field">http.healthcheck.</span><a id="http-healthcheck-grace-period" href="#http-healthcheck-grace-period" class="field"><code>grace_period</code></a> <span class="type">Duration</span><br />
The amount of time to ignore failing target group healthchecks on container start. The default is 60s. This can be useful to fix deployment issues for containers which take a while to become healthy and begin listening for incoming connections, or to speed up deployment of containers guaranteed to start quickly.</p>
<p><span class="parent-field">http.</span><a id="http-deregistration-delay" href="#http-deregistration-delay" class="field"><code>deregistration_delay</code></a> <span class="type">Duration</span><br />
The amount of time to wait for targets to drain connections during deregistration. The default is 60s. Setting this to a larger value gives targets more time to gracefully drain connections, but increases the time required for new deployments. Range 0s-3600s.</p>
<p><span class="parent-field">http.</span><a id="http-target-container" href="#http-target-container" class="field"><code>target_container</code></a> <span class="type">String</span><br />
A sidecar container that requests are routed to instead of the main service container.<br />
If the target container's port is set to <code>443</code>, then the protocol is set to <code>HTTPS</code> so that the load balancer establishes 
TLS connections with the Fargate tasks using certificates that you install on the target container.</p>
<p><span class="parent-field">http.</span><a id="http-target-port" href="#http-target-port" class="field"><code>target_port</code></a> <span class="type">String</span><br />
Optional. The container port that receives traffic. By default, this will be <code>image.port</code> if the target container is the main container, 
or <code>sidecars.&lt;name&gt;.port</code> if the target container is a sidecar.</p>
<p><span class="parent-field">http.</span><a id="http-stickiness" href="#http-stickiness" class="field"><code>stickiness</code></a> <span class="type">Boolean</span><br />
Indicates whether sticky sessions are enabled.</p>
<p><span class="parent-field">http.</span><a id="http-allowed-source-ips" href="#http-allowed-source-ips" class="field"><code>allowed_source_ips</code></a> <span class="type">Array of Strings</span><br />
CIDR IP addresses permitted to access your service.
<div class="highlight"><pre><span></span><code><span class="nt">http</span><span class="p">:</span>
  <span class="nt">allowed_source_ips</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;192.0.2.0/24&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;198.51.100.10/32&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div></p>
<p><span class="parent-field">http.</span><a id="http-alias" href="#http-alias" class="field"><code>alias</code></a> <span class="type">String or Array of Strings or Array of Maps</span><br />
HTTPS domain alias of your service.
<div class="highlight"><pre><span></span><code><span class="c1"># String version.</span>
<span class="nt">http</span><span class="p">:</span>
  <span class="nt">alias</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example.com</span>
<span class="c1"># Alternatively, as an array of strings.</span>
<span class="nt">http</span><span class="p">:</span>
  <span class="nt">alias</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;example.com&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;v1.example.com&quot;</span><span class="p p-Indicator">]</span>
<span class="c1"># Alternatively, as an array of maps.</span>
<span class="nt">http</span><span class="p">:</span>
  <span class="nt">alias</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example.com</span>
      <span class="nt">hosted_zone</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Z0873220N255IR3MTNR4</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1.example.com</span>
      <span class="nt">hosted_zone</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AN0THE9H05TED20NEID</span>
</code></pre></div>
<span class="parent-field">http.</span><a id="http-hosted-zone" href="#http-hosted-zone" class="field"><code>hosted_zone</code></a> <span class="type">String</span><br />
ID of your existing hosted zone; can only be used with <code>http.alias</code>. If you have an environment with imported certificates, you can specify the hosted zone into which Copilot should insert the A record once the load balancer is created.
<div class="highlight"><pre><span></span><code><span class="nt">http</span><span class="p">:</span>
  <span class="nt">alias</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example.com</span>
  <span class="nt">hosted_zone</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Z0873220N255IR3MTNR4</span>
<span class="c1"># Also see http.alias array of maps example, above.</span>
</code></pre></div>
<span class="parent-field">http.</span><a id="http-redirect-to-https" href="#http-redirect-to-https" class="field"><code>redirect_to_https</code></a> <span class="type">Boolean</span><br />
Automatically redirect the Application Load Balancer from HTTP to HTTPS. By default it is <code>true</code>.</p>
<p><span class="parent-field">http.</span><a id="http-version" href="#http-version" class="field"><code>version</code></a> <span class="type">String</span><br />
The HTTP(S) protocol version. Must be one of <code>'grpc'</code>, <code>'http1'</code>, or <code>'http2'</code>. If omitted, then <code>'http1'</code> is assumed.
If using gRPC, please note that a domain must be associated with your application.</p>
<p><span class="parent-field">http.</span><a id="http-additional-rules" href="#http-additional-rules" class="field"><code>additional_rules</code></a> <span class="type">Array of Maps</span><br />
Configure multiple ALB listener rules.</p>
<p><span class="parent-field">http.additional_rules.</span><a id="http-additional-rules-path" href="#http-additional-rules-path" class="field"><code>path</code></a> <span class="type">String</span><br />
    Requests to this path will be forwarded to your service. Each listener rule should listen on a unique path.</p>
<p><span class="parent-field">http.additional_rules.</span><a id="http-additional-rules-healthcheck" href="#http-additional-rules-healthcheck" class="field"><code>healthcheck</code></a> <span class="type">String or Map</span><br />
    If you specify a string, Copilot interprets it as the path exposed in your container to handle target group health check requests. The default is "/".
    <div class="highlight"><pre><span></span><code><span class="nt">http</span><span class="p">:</span>
  <span class="nt">additional_rules</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">healthcheck</span><span class="p">:</span> <span class="s">&#39;/&#39;</span>
</code></pre></div>
    You can also specify healthcheck as a map:
    <div class="highlight"><pre><span></span><code><span class="nt">http</span><span class="p">:</span>
  <span class="nt">additional_rules</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">healthcheck</span><span class="p">:</span>
        <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;/&#39;</span>
        <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>
        <span class="nt">success_codes</span><span class="p">:</span> <span class="s">&#39;200&#39;</span>
        <span class="nt">healthy_threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
        <span class="nt">unhealthy_threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
        <span class="nt">interval</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">15s</span>
        <span class="nt">timeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10s</span>
</code></pre></div></p>
<p><span class="parent-field">http.additional_rules.healthcheck.</span><a id="http-additional-rules-healthcheck-path" href="#http-additional-rules-healthcheck-path" class="field"><code>path</code></a> <span class="type">String</span><br />
    The destination that the health check requests are sent to.</p>
<p><span class="parent-field">http.additional_rules.healthcheck.</span><a id="http-additional-rules-healthcheck-port" href="#http-additional-rules-healthcheck-port" class="field"><code>port</code></a> <span class="type">Integer</span><br />
    The port that the health check requests are sent to. The default is <a href="./#image-port"><code>image.port</code></a>, or the port exposed by <a href="./#http-target-container"><code>http.target_container</code></a>, if set.<br />
    If the port exposed is <code>443</code>, then the health check protocol is automatically set to HTTPS.</p>
<p><span class="parent-field">http.additional_rules.healthcheck.</span><a id="http-additional-rules-healthcheck-success-codes" href="#http-additional-rules-healthcheck-success-codes" class="field"><code>success_codes</code></a> <span class="type">String</span><br />
    The HTTP status codes that healthy targets must use when responding to an HTTP health check. You can specify values between 200 and 499. You can specify multiple values (for example, "200,202") or a range of values (for example, "200-299"). The default is 200.</p>
<p><span class="parent-field">http.additional_rules.healthcheck.</span><a id="http-additional-rules-healthcheck-healthy-threshold" href="#http-additional-rules-healthcheck-healthy-threshold" class="field"><code>healthy_threshold</code></a> <span class="type">Integer</span><br />
    The number of consecutive health check successes required before considering an unhealthy target healthy. The default is 5. Range: 2-10.</p>
<p><span class="parent-field">http.additional_rules.healthcheck.</span><a id="http-additional-rules-healthcheck-unhealthy-threshold" href="#http-additional-rules-healthcheck-unhealthy-threshold" class="field"><code>unhealthy_threshold</code></a> <span class="type">Integer</span><br />
    The number of consecutive health check failures required before considering a target unhealthy. The default is 2. Range: 2-10.</p>
<p><span class="parent-field">http.additional_rules.healthcheck.</span><a id="http-additional-rules-healthcheck-interval" href="#http-additional-rules-healthcheck-interval" class="field"><code>interval</code></a> <span class="type">Duration</span><br />
    The approximate amount of time, in seconds, between health checks of an individual target. The default is 30s. Range: 5s–300s.</p>
<p><span class="parent-field">http.additional_rules.healthcheck.</span><a id="http-additional-rules-healthcheck-timeout" href="#http-additional-rules-healthcheck-timeout" class="field"><code>timeout</code></a> <span class="type">Duration</span><br />
    The amount of time, in seconds, during which no response from a target means a failed health check. The default is 5s. Range 5s-300s.</p>
<p><span class="parent-field">http.additional_rules.</span><a id="http-additional-rules-deregistration-delay" href="#http-additional-rules-deregistration-delay" class="field"><code>deregistration_delay</code></a> <span class="type">Duration</span><br />
    The amount of time to wait for targets to drain connections during deregistration. The default is 60s. Setting this to a larger value gives targets more time to gracefully drain connections, but increases the time required for new deployments. Range 0s-3600s.</p>
<p><span class="parent-field">http.additional_rules.</span><a id="http-additional-rules-target-container" href="#http-additional-rules-target-container" class="field"><code>target_container</code></a> <span class="type">String</span><br />
    A sidecar container that requests are routed to instead of the main service container.<br />
    If the target container's port is set to <code>443</code>, then the protocol is set to <code>HTTPS</code> so that the load balancer establishes
    TLS connections with the Fargate tasks using certificates that you install on the target container.</p>
<p><span class="parent-field">http.additional_rules.</span><a id="http-additional-rules-target-port" href="#http-additional-rules-target-port" class="field"><code>target_port</code></a> <span class="type">String</span><br />
    The container port that receives traffic. Specify this field if the container port is different from <code>image.port</code> for the main container or <code>sidecar.port</code> for the sidecar containers.</p>
<p><span class="parent-field">http.additional_rules.</span><a id="http-additional-rules-stickiness" href="#http-additional-rules-stickiness" class="field"><code>stickiness</code></a> <span class="type">Boolean</span><br />
    Indicates whether sticky sessions are enabled.</p>
<p><span class="parent-field">http.additional_rules.</span><a id="http-additional-rules-allowed-source-ips" href="#http-additional-rules-allowed-source-ips" class="field"><code>allowed_source_ips</code></a> <span class="type">Array of Strings</span><br />
    CIDR IP addresses permitted to access your service.
    <div class="highlight"><pre><span></span><code><span class="nt">http</span><span class="p">:</span>
  <span class="nt">additional_rules</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">allowed_source_ips</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;192.0.2.0/24&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;198.51.100.10/32&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div></p>
<p><span class="parent-field">http.additional_rules.</span><a id="http-additional-rules-alias" href="#http-additional-rules-alias" class="field"><code>alias</code></a> <span class="type">String or Array of Strings or Array of Maps</span><br />
    HTTPS domain alias of your service.
    <div class="highlight"><pre><span></span><code><span class="c1"># String version.</span>
<span class="nt">http</span><span class="p">:</span>
  <span class="nt">additional_rules</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">alias</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example.com</span>
<span class="c1"># Alternatively, as an array of strings.</span>
<span class="nt">http</span><span class="p">:</span>
  <span class="nt">additional_rules</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">alias</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;example.com&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;v1.example.com&quot;</span><span class="p p-Indicator">]</span>
<span class="c1"># Alternatively, as an array of maps.</span>
<span class="nt">http</span><span class="p">:</span>
  <span class="nt">additional_rules</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">alias</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example.com</span>
          <span class="nt">hosted_zone</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Z0873220N255IR3MTNR4</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1.example.com</span>
          <span class="nt">hosted_zone</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AN0THE9H05TED20NEID</span>
</code></pre></div>
<span class="parent-field">http.additional_rules.</span><a id="http-additional-rules-hosted-zone" href="#http-additional-rules-hosted-zone" class="field"><code>hosted_zone</code></a> <span class="type">String</span><br />
    ID of your existing hosted zone; can only be used with <code>http.alias</code> and <code>http.additional_rules.alias</code>. If you have an environment with imported certificates, you can specify the hosted zone into which Copilot should insert the A record once the load balancer is created.
    <div class="highlight"><pre><span></span><code><span class="nt">http</span><span class="p">:</span>
  <span class="nt">additional_rules</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">alias</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example.com</span>
      <span class="nt">hosted_zone</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Z0873220N255IR3MTNR4</span>
<span class="c1"># Also see http.alias array of maps example, above.</span>
</code></pre></div>
<span class="parent-field">http.additional_rules.</span><a id="http-additional-rules-redirect-to-https" href="#http-additional-rules-redirect-to-https" class="field"><code>redirect_to_https</code></a> <span class="type">Boolean</span><br />
    Automatically redirect the Application Load Balancer from HTTP to HTTPS. By default it is <code>true</code>.</p>
<p><span class="parent-field">http.additional_rules.</span><a id="http-additional-rules-version" href="#http-additional-rules-version" class="field"><code>version</code></a> <span class="type">String</span><br />
    The HTTP(S) protocol version. Must be one of <code>'grpc'</code>, <code>'http1'</code>, or <code>'http2'</code>. If omitted, then <code>'http1'</code> is assumed.
    If using gRPC, please note that a domain must be associated with your application.</p>
<div class="separator"></div>

<p><a id="nlb" href="#nlb" class="field"><code>nlb</code></a> <span class="type">Map</span><br />
The nlb section contains parameters related to integrating your service with a Network Load Balancer.</p>
<p>The Network Load Balancer is enabled only if you specify the <code>nlb</code> field. Note that for a Load-Balanced Web Service,
at least one of Application Load Balancer and Network Load Balancer must be enabled.</p>
<p><span class="parent-field">nlb.</span><a id="nlb-port" href="#nlb-port" class="field"><code>port</code></a> <span class="type">String</span><br />
Required. The port and protocol for the Network Load Balancer to listen on. </p>
<p>Accepted protocols include <code>tcp</code>, <code>udp</code> and <code>tls</code>. If the protocol is not specified, <code>tcp</code> is used by default. For example:
<div class="highlight"><pre><span></span><code><span class="nt">nlb</span><span class="p">:</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
</code></pre></div>
will listen on port 80 for <code>tcp</code> requests. This is the same as 
<div class="highlight"><pre><span></span><code><span class="nt">nlb</span><span class="p">:</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80/tcp</span>
</code></pre></div></p>
<p>You can easily enable TLS termination. For example:
<div class="highlight"><pre><span></span><code><span class="nt">nlb</span><span class="p">:</span>
  <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">443/tls</span>
</code></pre></div></p>
<p><span class="parent-field">nlb.</span><a id="nlb-healthcheck" href="#nlb-healthcheck" class="field"><code>healthcheck</code></a> <span class="type">Map</span><br />
Specify the health check configuration for your Network Load Balancer.
<div class="highlight"><pre><span></span><code><span class="nt">nlb</span><span class="p">:</span>
  <span class="nt">healthcheck</span><span class="p">:</span>
    <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
    <span class="nt">healthy_threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
    <span class="nt">unhealthy_threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
    <span class="nt">interval</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">15s</span>
    <span class="nt">timeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10s</span>
</code></pre></div></p>
<p><span class="parent-field">nlb.healthcheck.</span><a id="nlb-healthcheck-port" href="#nlb-healthcheck-port" class="field"><code>port</code></a> <span class="type">String</span><br />
The port that the health check requests are sent to. Specify this if your health check should be performed on a different port than the container target port.</p>
<p><span class="parent-field">nlb.healthcheck.</span><a id="nlb-healthcheck-healthy-threshold" href="#nlb-healthcheck-healthy-threshold" class="field"><code>healthy_threshold</code></a> <span class="type">Integer</span><br />
The number of consecutive health check successes required before considering an unhealthy target healthy. The default is 3. Range: 2-10.</p>
<p><span class="parent-field">nlb.healthcheck.</span><a id="nlb-healthcheck-unhealthy-threshold" href="#nlb-healthcheck-unhealthy-threshold" class="field"><code>unhealthy_threshold</code></a> <span class="type">Integer</span><br />
The number of consecutive health check failures required before considering a target unhealthy. The default is 3. Range: 2-10.</p>
<p><span class="parent-field">nlb.healthcheck.</span><a id="nlb-healthcheck-grace-period" href="#nlb-healthcheck-grace-period" class="field"><code>grace_period</code></a> <span class="type">Duration</span><br />
The amount of time to ignore failing target group healthchecks on container start. The default is 60s. This can be useful to fix deployment issues for containers which take a while to become healthy and begin listening for incoming connections, or to speed up deployment of containers guaranteed to start quickly.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Per the <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/network/target-group-health-checks.html">docs</a> at the time of this writing, 'unhealthy threshold' is required to be equal to 'healthy threshold' for a Network Load Balancer.</p>
</div>
<p><span class="parent-field">nlb.healthcheck.</span><a id="nlb-healthcheck-interval" href="#nlb-healthcheck-interval" class="field"><code>interval</code></a> <span class="type">Duration</span><br />
The approximate amount of time, in seconds, between health checks of an individual target. The value can be 10s or 30s. The default is 30s. </p>
<p><span class="parent-field">nlb.healthcheck.</span><a id="nlb-healthcheck-timeout" href="#nlb-healthcheck-timeout" class="field"><code>timeout</code></a> <span class="type">Duration</span><br />
The amount of time, in seconds, during which no response from a target means a failed health check. The default is 10s.</p>
<p><span class="parent-field">nlb.</span><a id="nlb-target-container" href="#nlb-target-container" class="field"><code>target_container</code></a> <span class="type">String</span><br />
A sidecar container that takes the place of a service container.</p>
<p><span class="parent-field">nlb.</span><a id="nlb-target-port" href="#nlb-target-port" class="field"><code>target_port</code></a> <span class="type">Integer</span><br />
The container port that receives traffic. Specify this field if the container port is different from <code>nlb.port</code>, the listener port.</p>
<p><span class="parent-field">nlb.</span><a id="nlb-ssl-policy" href="#nlb-ssl-policy" class="field"><code>ssl_policy</code></a> <span class="type">String</span><br />
The security policy that defines which protocols and ciphers are supported. To learn more, see <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/network/create-tls-listener.html#describe-ssl-policies">this doc</a>.</p>
<p><span class="parent-field">nlb.</span><a id="nlb-stickiness" href="#nlb-stickiness" class="field"><code>stickiness</code></a> <span class="type">Boolean</span><br />
Indicates whether sticky sessions are enabled.</p>
<p><span class="parent-field">nlb.</span><a id="nlb-alias" href="#nlb-alias" class="field"><code>alias</code></a> <span class="type">String or Array of Strings</span><br />
Domain aliases for your service.
<div class="highlight"><pre><span></span><code><span class="c1"># String version.</span>
<span class="nt">nlb</span><span class="p">:</span>
  <span class="nt">alias</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example.com</span>
<span class="c1"># Alteratively, as an array of strings.</span>
<span class="nt">nlb</span><span class="p">:</span>
  <span class="nt">alias</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;example.com&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;v1.example.com&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div>
<span class="parent-field">nlb.</span><a id="nlb-additional-listeners" href="#nlb-additional-listeners" class="field"><code>additional_listeners</code></a> <span class="type">Array of Maps</span><br />
Configure multiple NLB listeners.</p>
<details class="note"><summary>nlb.additional_listeners Map</summary><p><span class="parent-field">nlb.additional_listeners.</span><a id="nlb-additional-listeners-port" href="#nlb-additional-listeners-port" class="field"><code>port</code></a> <span class="type">String</span><br />
Required. The additional port and protocol for the Network Load Balancer to listen on.</p>
<p>Accepted protocols include <code>tcp</code>, <code>udp</code> and <code>tls</code>. If the protocol is not specified, <code>tcp</code> is used by default.</p>
<p><span class="parent-field">nlb.additional_listeners.</span><a id="nlb-additional-listeners-healthcheck" href="#nlb-additional-listeners-healthcheck" class="field"><code>healthcheck</code></a> <span class="type">Map</span><br />
Specify the health check configuration for your additional listener on the Network Load Balancer.
<div class="highlight"><pre><span></span><code><span class="nt">nlb</span><span class="p">:</span>
  <span class="nt">additional_listeners</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">healthcheck</span><span class="p">:</span>
        <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
        <span class="nt">healthy_threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
        <span class="nt">unhealthy_threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
        <span class="nt">interval</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">15s</span>
        <span class="nt">timeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10s</span>
</code></pre></div></p>
<p><span class="parent-field">nlb.additional_listeners.healthcheck.</span><a id="nlb-additional-listeners-healthcheck-port" href="#nlb-additional-listeners-healthcheck-port" class="field"><code>port</code></a> <span class="type">String</span><br />
The port that the health check requests are sent to. Specify this if your health check should be performed on a different port than the container target port.</p>
<p><span class="parent-field">nlb.additional_listeners.healthcheck.</span><a id="nlb-additional-listeners-healthcheck-healthy-threshold" href="#nlb-additional-listeners-healthcheck-healthy-threshold" class="field"><code>healthy_threshold</code></a> <span class="type">Integer</span><br />
The number of consecutive health check successes required before considering an unhealthy target healthy. The default is 3. Range: 2-10.</p>
<p><span class="parent-field">nlb.additional_listeners.healthcheck.</span><a id="nlb-additional-listeners-healthcheck-unhealthy-threshold" href="#nlb-additional-listeners-healthcheck-unhealthy-threshold" class="field"><code>unhealthy_threshold</code></a> <span class="type">Integer</span><br />
The number of consecutive health check failures required before considering a target unhealthy. The default is 3. Range: 2-10.</p>
<p><span class="parent-field">nlb.additional_listeners.healthcheck.</span><a id="nlb-additional-listeners-healthcheck-interval" href="#nlb-additional-listeners-healthcheck-interval" class="field"><code>interval</code></a> <span class="type">Duration</span><br />
The approximate amount of time, in seconds, between health checks of an individual target. The value can be 10s or 30s. The default is 30s.</p>
<p><span class="parent-field">nlb.additional_listeners.healthcheck.</span><a id="nlb-additional-listeners-healthcheck-timeout" href="#nlb-additional-listeners-healthcheck-timeout" class="field"><code>timeout</code></a> <span class="type">Duration</span><br />
The amount of time, in seconds, during which no response from a target means a failed health check. The default is 10s.</p>
<p><span class="parent-field">nlb.additional_listeners.</span><a id="nlb-additional-listeners-target-container" href="#nlb-additional-listeners-target-container" class="field"><code>target_container</code></a> <span class="type">String</span><br />
A sidecar container that takes the place of a service container.</p>
<p><span class="parent-field">nlb.additional_listeners.</span><a id="nlb-additional-listeners-target-port" href="#nlb-additional-listeners-target-port" class="field"><code>target_port</code></a> <span class="type">Integer</span><br />
The container port that receives traffic. Specify this field if the container port is different from <code>nlb.port</code>, the listener port.</p>
<p><span class="parent-field">nlb.additional_listeners.</span><a id="nlb-additional-listeners-ssl-policy" href="#nlb-additional-listeners-ssl-policy" class="field"><code>ssl_policy</code></a> <span class="type">String</span><br />
The security policy that defines which protocols and ciphers are supported. To learn more, see <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/network/create-tls-listener.html#describe-ssl-policies">this doc</a>.</p>
<p><span class="parent-field">nlb.additional_listeners.</span><a id="nlb-additional-listeners-stickiness" href="#nlb-additional-listeners-stickiness" class="field"><code>stickiness</code></a> <span class="type">Boolean</span><br />
Indicates whether sticky sessions are enabled.</p>
</details>
<div class="separator"></div>

<p><a id="image" href="#image" class="field"><code>image</code></a> <span class="type">Map</span><br />
The image section contains parameters relating to the Docker build configuration or referring to an existing container image.</p>
<p><span class="parent-field">image.</span><a id="image-build" href="#image-build" class="field"><code>build</code></a> <span class="type">String or Map</span><br />
Build a container from a Dockerfile with optional arguments. Mutually exclusive with <a href="#image-location"><code>image.location</code></a>.</p>
<p>If you specify a string, Copilot interprets it as the path to your Dockerfile. It will assume that the dirname of the string you specify should be the build context. The manifest:
<div class="highlight"><pre><span></span><code><span class="nt">image</span><span class="p">:</span>
  <span class="nt">build</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">path/to/dockerfile</span>
</code></pre></div>
will result in the following call to docker build: <code>$ docker build --file path/to/dockerfile path/to</code></p>
<p>You can also specify build as a map:
<div class="highlight"><pre><span></span><code><span class="nt">image</span><span class="p">:</span>
  <span class="nt">build</span><span class="p">:</span>
    <span class="nt">dockerfile</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">path/to/dockerfile</span>
    <span class="nt">context</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">context/dir</span>
    <span class="nt">target</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">build-stage</span>
    <span class="nt">cache_from</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">image:tag</span>
    <span class="nt">args</span><span class="p">:</span>
      <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">value</span>
</code></pre></div>
In this case, Copilot will use the context directory you specified and convert the key-value pairs under args to --build-arg overrides. The equivalent docker build call will be:
<code>$ docker build --file path/to/dockerfile --target build-stage --cache-from image:tag --build-arg key=value context/dir</code>.</p>
<p>You can omit fields and Copilot will do its best to understand what you mean. For example, if you specify <code>context</code> but not <code>dockerfile</code>, Copilot will run Docker in the context directory and assume that your Dockerfile is named "Dockerfile." If you specify <code>dockerfile</code> but no <code>context</code>, Copilot assumes you want to run Docker in the directory that contains <code>dockerfile</code>.</p>
<p>All paths are relative to your workspace root.</p>
<p><span class="parent-field">image.</span><a id="image-location" href="#image-location" class="field"><code>location</code></a> <span class="type">String</span><br />
Instead of building a container from a Dockerfile, you can specify an existing image name. Mutually exclusive with <a href="#image-build"><code>image.build</code></a>.
The <code>location</code> field follows the same definition as the <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_definition_parameters.html#container_definition_image"><code>image</code> parameter</a> in the Amazon ECS task definition.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you are passing in a Windows image, you must add <code>platform: windows/x86_64</code> to your manifest.<br />
If you are passing in an ARM architecture-based image, you must add <code>platform: linux/arm64</code> to your manifest.</p>
</div>
<p><span class="parent-field">image.</span><a id="image-credential" href="#image-credential" class="field"><code>credentials</code></a> <span class="type">String</span><br />
An optional credentials ARN for a private repository. The <code>credentials</code> field follows the same definition as the <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/private-auth.html"><code>credentialsParameter</code></a> in the Amazon ECS task definition.</p>
<p><span class="parent-field">image.</span><a id="image-labels" href="#image-labels" class="field"><code>labels</code></a> <span class="type">Map</span><br />
An optional key/value map of <a href="https://docs.docker.com/config/labels-custom-metadata/">Docker labels</a> to add to the container.</p>
<p><span class="parent-field">image.</span><a id="image-depends-on" href="#image-depends-on" class="field"><code>depends_on</code></a> <span class="type">Map</span><br />
An optional key/value map of <a href="https://docs.aws.amazon.com/AmazonECS/latest/APIReference/API_ContainerDependency.html">Container Dependencies</a> to add to the container. The key of the map is a container name and the value is the condition to depend on. Valid conditions are: <code>start</code>, <code>healthy</code>, <code>complete</code>, and <code>success</code>. You cannot specify a <code>complete</code> or <code>success</code> dependency on an essential container.</p>
<p>For example:
<div class="highlight"><pre><span></span><code><span class="nt">image</span><span class="p">:</span>
  <span class="nt">build</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">./Dockerfile</span>
  <span class="nt">depends_on</span><span class="p">:</span>
    <span class="nt">nginx</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">start</span>
    <span class="nt">startup</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">success</span>
</code></pre></div>
In the above example, the task's main container will only start after the <code>nginx</code> sidecar has started and the <code>startup</code> container has completed successfully.  </p>
<p><span class="parent-field">image.</span><a id="image-port" href="#image-port" class="field"><code>port</code></a> <span class="type">Integer</span><br />
The port exposed in your Dockerfile. Copilot should parse this value for you from your <code>EXPOSE</code> instruction.<br />
If the port is set to <code>443</code>, then the protocol is set to <code>HTTPS</code> so that the load balancer establishes
TLS connections with the Fargate tasks using certificates that you install on the container.</p>
<p><span class="parent-field">image.</span><a id="image-healthcheck" href="#image-healthcheck" class="field"><code>healthcheck</code></a> <span class="type">Map</span><br />
Optional configuration for container health checks.</p>
<p><span class="parent-field">image.healthcheck.</span><a id="image-healthcheck-cmd" href="#image-healthcheck-cmd" class="field"><code>command</code></a> <span class="type">Array of Strings</span><br />
The command to run to determine if the container is healthy.
The string array can start with <code>CMD</code> to execute the command arguments directly, or <code>CMD-SHELL</code> to run the command with the container's default shell.</p>
<p><span class="parent-field">image.healthcheck.</span><a id="image-healthcheck-interval" href="#image-healthcheck-interval" class="field"><code>interval</code></a> <span class="type">Duration</span><br />
Time period between health checks, in seconds. Default is 10s.</p>
<p><span class="parent-field">image.healthcheck.</span><a id="image-healthcheck-retries" href="#image-healthcheck-retries" class="field"><code>retries</code></a> <span class="type">Integer</span><br />
Number of times to retry before container is deemed unhealthy. Default is 2.</p>
<p><span class="parent-field">image.healthcheck.</span><a id="image-healthcheck-timeout" href="#image-healthcheck-timeout" class="field"><code>timeout</code></a> <span class="type">Duration</span><br />
How long to wait before considering the health check failed, in seconds. Default is 5s.</p>
<p><span class="parent-field">image.healthcheck.</span><a id="image-healthcheck-start-period" href="#image-healthcheck-start-period" class="field"><code>start_period</code></a> <span class="type">Duration</span><br />
Length of grace period for containers to bootstrap before failed health checks count towards the maximum number of retries. Default is 0s.</p>
<div class="separator"></div>

<p><a id="cpu" href="#cpu" class="field"><code>cpu</code></a> <span class="type">Integer</span><br />
Number of CPU units for the task. See the <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-cpu-memory-error.html">Amazon ECS docs</a> for valid CPU values.</p>
<div class="separator"></div>

<p><a id="memory" href="#memory" class="field"><code>memory</code></a> <span class="type">Integer</span><br />
Amount of memory in MiB used by the task. See the <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-cpu-memory-error.html">Amazon ECS docs</a> for valid memory values.</p>
<div class="separator"></div>

<p><a id="platform" href="#platform" class="field"><code>platform</code></a> <span class="type">String or Map</span><br />
Operating system and architecture (formatted as <code>[os]/[arch]</code>) to pass with <code>docker build --platform</code>. For example, <code>linux/arm64</code> or <code>windows/x86_64</code>. The default is <code>linux/x86_64</code>.</p>
<p>Override the generated string to build with a different valid <code>osfamily</code> or <code>architecture</code>. For example, Windows users might change the string
<div class="highlight"><pre><span></span><code><span class="nt">platform</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">windows/x86_64</span>
</code></pre></div>
which defaults to <code>WINDOWS_SERVER_2019_CORE</code>, using a map:
<div class="highlight"><pre><span></span><code><span class="nt">platform</span><span class="p">:</span>
  <span class="nt">osfamily</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">windows_server_2019_full</span>
  <span class="nt">architecture</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">x86_64</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nt">platform</span><span class="p">:</span>
  <span class="nt">osfamily</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">windows_server_2022_core</span>
  <span class="nt">architecture</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">x86_64</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nt">platform</span><span class="p">:</span>
  <span class="nt">osfamily</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">windows_server_2022_full</span>
  <span class="nt">architecture</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">x86_64</span>
</code></pre></div></p>
<div class="separator"></div>

<p><a id="count" href="#count" class="field"><code>count</code></a> <span class="type">Integer or Map</span>
The number of tasks that your service should maintain.</p>
<p>If you specify a number:
<div class="highlight"><pre><span></span><code><span class="nt">count</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
</code></pre></div>
The service will set the desired count to 5 and maintain 5 tasks in your service.</p>
<p><span class="parent-field">count.</span><a id="count-spot" href="#count-spot" class="field"><code>spot</code></a> <span class="type">Integer</span></p>
<p>If you want to use Fargate Spot capacity to run your services, you can specify a number under the <code>spot</code> subfield:
<div class="highlight"><pre><span></span><code><span class="nt">count</span><span class="p">:</span>
  <span class="nt">spot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
</code></pre></div></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Fargate Spot is not supported for containers running on ARM architecture.</p>
</div>
<div class="separator"></div>

<p>Alternatively, you can specify a map for setting up autoscaling:
<div class="highlight"><pre><span></span><code><span class="nt">count</span><span class="p">:</span>
  <span class="nt">range</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1-10</span>
  <span class="nt">cooldown</span><span class="p">:</span>
    <span class="nt">in</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30s</span>
    <span class="nt">out</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">60s</span>
  <span class="nt">cpu_percentage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">70</span>
  <span class="nt">memory_percentage</span><span class="p">:</span>
    <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
    <span class="nt">cooldown</span><span class="p">:</span>
      <span class="nt">in</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80s</span>
      <span class="nt">out</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">160s</span>
  <span class="nt">requests</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10000</span>
  <span class="nt">response_time</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2s</span>
</code></pre></div></p>
<p><span class="parent-field">count.</span><a id="count-range" href="#count-range" class="field"><code>range</code></a> <span class="type">String or Map</span><br />
You can specify a minimum and maximum bound for the number of tasks your service should maintain, based on the values you specify for the metrics.
<div class="highlight"><pre><span></span><code><span class="nt">count</span><span class="p">:</span>
  <span class="nt">range</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">n-m</span>
</code></pre></div>
This will set up an Application Autoscaling Target with the <code>MinCapacity</code> of <code>n</code> and <code>MaxCapacity</code> of <code>m</code>.</p>
<p>Alternatively, if you wish to scale your service onto Fargate Spot instances, specify <code>min</code> and <code>max</code> under <code>range</code> and then specify <code>spot_from</code> with the desired count you wish to start placing your services onto Spot capacity. For example:</p>
<div class="highlight"><pre><span></span><code><span class="nt">count</span><span class="p">:</span>
  <span class="nt">range</span><span class="p">:</span>
    <span class="nt">min</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
    <span class="nt">max</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
    <span class="nt">spot_from</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
</code></pre></div>
<p>This will set your range as 1-10 as above, but will place the first two copies of your service on dedicated Fargate capacity. If your service scales to 3 or higher, the third and any additional copies will be placed on Spot until the maximum is reached.</p>
<p><span class="parent-field">count.range.</span><a id="count-range-min" href="#count-range-min" class="field"><code>min</code></a> <span class="type">Integer</span>
The minimum desired count for your service using autoscaling.</p>
<p><span class="parent-field">count.range.</span><a id="count-range-max" href="#count-range-max" class="field"><code>max</code></a> <span class="type">Integer</span>
The maximum desired count for your service using autoscaling.</p>
<p><span class="parent-field">count.range.</span><a id="count-range-spot-from" href="#count-range-spot-from" class="field"><code>spot_from</code></a> <span class="type">Integer</span>
The desired count at which you wish to start placing your service using Fargate Spot capacity providers.</p>
<p><span class="parent-field">count.</span><a id="count-cooldown" href="#count-cooldown" class="field"><code>cooldown</code></a> <span class="type">Map</span>
Cooldown scaling fields that are used as the default cooldown for all autoscaling fields specified.</p>
<p><span class="parent-field">count.cooldown.</span><a id="count-cooldown-in" href="#count-cooldown-in" class="field"><code>in</code></a> <span class="type">Duration</span>
The cooldown time for autoscaling fields to scale up the service.</p>
<p><span class="parent-field">count.cooldown.</span><a id="count-cooldown-out" href="#count-cooldown-out" class="field"><code>out</code></a> <span class="type">Duration</span>
The cooldown time for autoscaling fields to scale down the service.</p>
<p>The following options <code>cpu_percentage</code>, <code>memory_percentage</code>, <code>requests</code> and <code>response_time</code> are autoscaling fields for <code>count</code> which can be defined either as the value of the field, or as a Map containing advanced information about the field's <code>value</code> and <code>cooldown</code>:
<div class="highlight"><pre><span></span><code><span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">50</span>
<span class="nt">cooldown</span><span class="p">:</span>
  <span class="nt">in</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30s</span>
  <span class="nt">out</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">60s</span>
</code></pre></div>
The cooldown specified here will override the default cooldown.</p>
<p><span class="parent-field">count.</span><a id="count-cpu-percentage" href="#count-cpu-percentage" class="field"><code>cpu_percentage</code></a> <span class="type">Integer or Map</span>
Scale up or down based on the average CPU your service should maintain.</p>
<p><span class="parent-field">count.</span><a id="count-memory-percentage" href="#count-memory-percentage" class="field"><code>memory_percentage</code></a> <span class="type">Integer or Map</span>
Scale up or down based on the average memory your service should maintain.</p>
<p><span class="parent-field">count.</span><a id="requests" href="#count-requests" class="field"><code>requests</code></a> <span class="type">Integer or Map</span>
Scale up or down based on the request count handled per task.</p>
<p><span class="parent-field">count.</span><a id="response-time" href="#count-response-time" class="field"><code>response_time</code></a> <span class="type">Duration or Map</span>
Scale up or down based on the service average response time.</p>
<div class="separator"></div>

<p><a id="exec" href="#exec" class="field"><code>exec</code></a> <span class="type">Boolean</span><br />
Enable running commands in your container. The default is <code>false</code>. Required for <code>$ copilot svc exec</code>.</p>
<div class="separator"></div>

<p><a id="deployment" href="#deployment" class="field"><code>deployment</code></a> <span class="type">Map</span><br />
The deployment section contains parameters to control how many tasks run during the deployment and the ordering of stopping and starting tasks.</p>
<p><span class="parent-field">deployment.</span><a id="deployment-rolling" href="#deployment-rolling" class="field"><code>rolling</code></a> <span class="type">String</span><br />
Rolling deployment strategy. Valid values are</p>
<ul>
<li><code>"default"</code>: Creates new tasks as many as the desired count with the updated task definition, before stopping the old tasks. Under the hood, this translates to setting the <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/service_definition_parameters.html#minimumHealthyPercent"><code>minimumHealthyPercent</code></a> to 100 and <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/service_definition_parameters.html#maximumPercent"><code>maximumPercent</code></a> to 200.</li>
<li><code>"recreate"</code>: Stop all running tasks and then spin up new tasks. Under the hood, this translates to setting the <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/service_definition_parameters.html#minimumHealthyPercent"><code>minimumHealthyPercent</code></a> to 0 and <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/service_definition_parameters.html#maximumPercent"><code>maximumPercent</code></a> to 100.</li>
</ul>
<p><span class="parent-field">deployment.</span><a id="deployment-rollback-alarms" href="#deployment-rollback-alarms" class="field"><code>rollback_alarms</code></a> <span class="type">Array of Strings or Map</span></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>If an alarm is in "In alarm" state at the beginning of a deployment, Amazon ECS will NOT monitor alarms for the duration of that deployment. For more details, read the docs <a href="https://docs.aws.amazon.com/AmazonECS/latest/userguide/deployment-alarm-failure.html">here</a>.</p>
</div>
<p>As a list of strings, the names of existing CloudWatch alarms to associate with your service that may trigger a <a href="https://docs.aws.amazon.com/AmazonECS/latest/userguide/deployment-alarm-failure.html">deployment rollback</a>.
<div class="highlight"><pre><span></span><code><span class="nt">deployment</span><span class="p">:</span>
  <span class="nt">rollback_alarms</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;MyAlarm-ELB-4xx&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;MyAlarm-ELB-5xx&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div>
As a map, the alarm metric and threshold for Copilot-created alarms. 
Available metrics:
<div class="highlight"><pre><span></span><code><span class="nt">deployment</span><span class="p">:</span>
  <span class="nt">rollback_alarms</span><span class="p">:</span>
    <span class="nt">cpu_utilization</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">70    // Percentage value at or above which alarm is triggered.</span>
    <span class="nt">memory_utilization</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">50 // Percentage value at or above which alarm is triggered.</span>
</code></pre></div></p>
<div class="separator"></div>

<p><a id="entrypoint" href="#entrypoint" class="field"><code>entrypoint</code></a> <span class="type">String or Array of Strings</span><br />
Override the default entrypoint in the image.
<div class="highlight"><pre><span></span><code><span class="c1"># String version.</span>
<span class="nt">entrypoint</span><span class="p">:</span> <span class="s">&quot;/bin/entrypoint</span><span class="nv"> </span><span class="s">--p1</span><span class="nv"> </span><span class="s">--p2&quot;</span>
<span class="c1"># Alteratively, as an array of strings.</span>
<span class="nt">entrypoint</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;/bin/entrypoint&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;--p1&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;--p2&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div></p>
<div class="separator"></div>

<p><a id="command" href="#command" class="field"><code>command</code></a> <span class="type">String or Array of Strings</span><br />
Override the default command in the image.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># String version.</span>
<span class="nt">command</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ps au</span>
<span class="c1"># Alteratively, as an array of strings.</span>
<span class="nt">command</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;ps&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;au&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div>
<div class="separator"></div>

<p><a id="network" href="#network" class="field"><code>network</code></a> <span class="type">Map</span>    <br />
The <code>network</code> section contains parameters for connecting to AWS resources in a VPC.</p>
<p><span class="parent-field">network.</span><a id="network-connect" href="#network-connect" class="field"><code>connect</code></a> <span class="type">Bool or Map</span>  <br />
Enable <a href="../../developing/svc-to-svc-communication/#service-connect">Service Connect</a> for your service, which makes the traffic between services load balanced and more resilient. Defaults to <code>false</code>.</p>
<p>When using it as a map, you can specify which alias to use for this service. Note that the alias must be unique within the environment.</p>
<p><span class="parent-field">network.connect.</span><a id="network-connect-alias" href="#network-connect-alias" class="field"><code>alias</code></a> <span class="type">String</span><br />
A custom DNS name for this service exposed to Service Connect. Defaults to the service name.</p>
<p><span class="parent-field">network.</span><a id="network-vpc" href="#network-vpc" class="field"><code>vpc</code></a> <span class="type">Map</span>  <br />
Subnets and security groups attached to your tasks.</p>
<p><span class="parent-field">network.vpc.</span><a id="network-vpc-placement" href="#network-vpc-placement" class="field"><code>placement</code></a> <span class="type">String or Map</span><br />
When using it as a string, the value must be one of <code>'public'</code> or <code>'private'</code>. Defaults to launching your tasks in public subnets.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>If you launch tasks in <code>'private'</code> subnets and use a Copilot-generated VPC, Copilot will automatically add NAT Gateways to your environment for internet connectivity. (See <a href="https://aws.amazon.com/vpc/pricing/">pricing</a>.) Alternatively, when running <code>copilot env init</code>, you can import an existing VPC with NAT Gateways, or one with VPC endpoints for isolated workloads. See our <a href="../../developing/custom-environment-resources/">custom environment resources</a> page for more.</p>
</div>
<p>When using it as a map, you can specify in which subnets Copilot should launch ECS tasks. For example:</p>
<div class="highlight"><pre><span></span><code><span class="nt">network</span><span class="p">:</span>
  <span class="nt">vpc</span><span class="p">:</span>
    <span class="nt">placement</span><span class="p">:</span>
      <span class="nt">subnets</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;SubnetID1&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;SubnetID2&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p><span class="parent-field">network.vpc.placement.</span><a id="network-vpc-placement-subnets" href="#network-vpc-placement-subnets" class="field"><code>subnets</code></a> <span class="type">Array of Strings or Map</span><br />
As a list of strings, the subnet IDs where Copilot should launch ECS tasks.</p>
<p>As a map, the name-value pairs by which to filter your subnets. Note that the filters are joined with an <code>AND</code>, and the values for each filter are joined by an <code>OR</code>. For example, both subnets with tag set <code>org: bi</code> and <code>type: public</code>, and subnets with tag set <code>org: bi</code> and <code>type: private</code> will be matched by</p>
<div class="highlight"><pre><span></span><code><span class="nt">network</span><span class="p">:</span>
  <span class="nt">vpc</span><span class="p">:</span>
    <span class="nt">placement</span><span class="p">:</span>
      <span class="nt">subnets</span><span class="p">:</span>
        <span class="nt">from_tags</span><span class="p">:</span>
          <span class="nt">org</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bi</span>
          <span class="nt">type</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">public</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">private</span>
</code></pre></div>
<p><span class="parent-field">network.vpc.placement.subnets</span><a id="network-vpc-placement-subnets-from-tags" href="#network-vpc-placement-subnets-from-tags" class="field"><code>from_tags</code></a> <span class="type">Map of String and String or Array of Strings</span><br />
Tag sets by which to filter subnets where Copilot should launch ECS tasks.</p>
<p><span class="parent-field">network.vpc.</span><a id="network-vpc-security-groups" href="#network-vpc-security-groups" class="field"><code>security_groups</code></a> <span class="type">Array of Strings or Map</span><br />
Additional security group IDs associated with your tasks.
<div class="highlight"><pre><span></span><code><span class="nt">network</span><span class="p">:</span>
  <span class="nt">vpc</span><span class="p">:</span>
    <span class="nt">security_groups</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">sg-0001</span><span class="p p-Indicator">,</span> <span class="nv">sg-0002</span><span class="p p-Indicator">]</span>
</code></pre></div>
Copilot includes a security group so containers within your environment can communicate with each other. To disable
the default security group, you can specify the <code>Map</code> form:
<div class="highlight"><pre><span></span><code><span class="nt">network</span><span class="p">:</span>
  <span class="nt">vpc</span><span class="p">:</span>
    <span class="nt">security_groups</span><span class="p">:</span>
      <span class="nt">deny_default</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">groups</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">sg-0001</span><span class="p p-Indicator">,</span> <span class="nv">sg-0002</span><span class="p p-Indicator">]</span>
</code></pre></div></p>
<p><span class="parent-field">network.vpc.security_groups.</span><a id="network-vpc-security-groups-from-cfn" href="#network-vpc-security-groups-from-cfn" class="field"><code>from_cfn</code></a> <span class="type">String</span><br />
The name of a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html">CloudFormation stack export</a>.</p>
<p><span class="parent-field">network.vpc.security_groups.</span><a id="network-vpc-security-groups-deny-default" href="#network-vpc-security-groups-deny-default" class="field"><code>deny_default</code></a> <span class="type">Boolean</span><br />
Disable the default security group that allows ingress from all services in your environment.</p>
<p><span class="parent-field">network.vpc.security_groups.</span><a id="network-vpc-security-groups-groups" href="#network-vpc-security-groups-groups" class="field"><code>groups</code></a> <span class="type">Array of Strings</span>  <br />
Additional security group IDs associated with your tasks.</p>
<p><span class="parent-field">network.vpc.security_groups.groups</span><a id="network-vpc-security-groups-groups-from-cfn" href="#network-vpc-security-groups-groups-from-cfn" class="field"><code>from_cfn</code></a> <span class="type">String</span><br />
The name of a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html">CloudFormation stack export</a>. </p>
<div class="separator"></div>

<p><a id="variables" href="#variables" class="field"><code>variables</code></a> <span class="type">Map</span><br />
Key-value pairs that represent environment variables that will be passed to your service. Copilot will include a number of environment variables by default for you.</p>
<p><span class="parent-field">variables.</span><a id="variables-from-cfn" href="#variables-from-cfn" class="field"><code>from_cfn</code></a> <span class="type">String</span><br />
The name of a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html">CloudFormation stack export</a>. </p>
<div class="separator"></div>

<p><a id="env_file" href="#env_file" class="field"><code>env_file</code></a> <span class="type">String</span><br />
The path to a file from the root of your workspace containing the environment variables to pass to the main container. For more information about the environment variable file, see <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/taskdef-envfiles.html#taskdef-envfiles-considerations">Considerations for specifying environment variable files</a>.</p>
<div class="separator"></div>

<p><a id="secrets" href="#secrets" class="field"><code>secrets</code></a> <span class="type">Map</span><br />
Key-value pairs that represent secret values from <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html">AWS Systems Manager Parameter Store</a> or <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/intro.html">AWS Secrets Manager</a> that will be securely passed to your service as environment variables.</p>
<p><span class="parent-field">secrets.</span><a id="secrets-from-cfn" href="#secrets-from-cfn" class="field"><code>from_cfn</code></a> <span class="type">String</span><br />
The name of a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html">CloudFormation stack export</a>. </p>
<div class="separator"></div>

<p><a id="storage" href="#storage" class="field"><code>storage</code></a> <span class="type">Map</span><br />
The Storage section lets you specify external EFS volumes for your containers and sidecars to mount. This allows you to access persistent storage across availability zones in a region for data processing or CMS workloads. For more detail, see the <a href="../../developing/storage/">storage</a> page. You can also specify extensible ephemeral storage at the task level.</p>
<p><span class="parent-field">storage.</span><a id="ephemeral" href="#ephemeral" class="field"><code>ephemeral</code></a> <span class="type">Int</span><br />
Specify how much ephemeral task storage to provision in GiB. The default value and minimum is 20 GiB. The maximum size is 200 GiB. Sizes above 20 GiB incur additional charges.</p>
<p>To create a shared filesystem context between an essential container and a sidecar, you can use an empty volume:
<div class="highlight"><pre><span></span><code><span class="nt">storage</span><span class="p">:</span>
  <span class="nt">ephemeral</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
  <span class="nt">volumes</span><span class="p">:</span>
    <span class="nt">scratch</span><span class="p">:</span>
      <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/data</span>
      <span class="nt">read_only</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="nt">sidecars</span><span class="p">:</span>
  <span class="nt">mySidecar</span><span class="p">:</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">public.ecr.aws/my-image:latest</span>
    <span class="nt">mount_points</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">source_volume</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">scratch</span>
        <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/data</span>
        <span class="nt">read_only</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div>
This example will provision 100 GiB of storage to be shared between the sidecar and the task container. This can be useful for large datasets, or for using a sidecar to transfer data from EFS into task storage for workloads with high disk I/O requirements.</p>
<p><span class="parent-field">storage.</span><a id="storage-readonlyfs" href="#storage-readonlyfs" class="field"><code>readonly_fs</code></a> <span class="type">Boolean</span>
Specify true to give your container read-only access to its root file system.</p>
<p><span class="parent-field">storage.</span><a id="volumes" href="#volumes" class="field"><code>volumes</code></a> <span class="type">Map</span><br />
Specify the name and configuration of any EFS volumes you would like to attach. The <code>volumes</code> field is specified as a map of the form:
<div class="highlight"><pre><span></span><code><span class="nt">volumes</span><span class="p">:</span>
  <span class="nt">&lt;volume name&gt;</span><span class="p">:</span>
    <span class="nt">path</span><span class="p">:</span> <span class="s">&quot;/etc/mountpath&quot;</span>
    <span class="nt">efs</span><span class="p">:</span>
      <span class="l l-Scalar l-Scalar-Plain">...</span>
</code></pre></div></p>
<p><span class="parent-field">storage.volumes.</span><a id="volume" href="#volume" class="field"><code>&lt;volume&gt;</code></a> <span class="type">Map</span><br />
Specify the configuration of a volume.</p>
<p><span class="parent-field">storage.volumes.<code>&lt;volume&gt;</code>.</span><a id="path" href="#path" class="field"><code>path</code></a> <span class="type">String</span><br />
Required. Specify the location in the container where you would like your volume to be mounted. Must be fewer than 242 characters and must consist only of the characters <code>a-zA-Z0-9.-_/</code>.</p>
<p><span class="parent-field">storage.volumes.<code>&lt;volume&gt;</code>.</span><a id="read_only" href="#read-only" class="field"><code>read_only</code></a> <span class="type">Boolean</span><br />
Optional. Defaults to <code>true</code>. Defines whether the volume is read-only or not. If false, the container is granted <code>elasticfilesystem:ClientWrite</code> permissions to the filesystem and the volume is writable.</p>
<p><span class="parent-field">storage.volumes.<code>&lt;volume&gt;</code>.</span><a id="efs" href="#efs" class="field"><code>efs</code></a> <span class="type">Boolean or Map</span><br />
Specify more detailed EFS configuration. If specified as a boolean, or using only the <code>uid</code> and <code>gid</code> subfields, creates a managed EFS filesystem and dedicated Access Point for this workload.</p>
<div class="highlight"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">// Simple managed EFS</span>
<span class="l l-Scalar l-Scalar-Plain">efs</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="l l-Scalar l-Scalar-Plain">// Managed EFS with custom POSIX info</span>
<span class="nt">efs</span><span class="p">:</span>
  <span class="nt">uid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10000</span>
  <span class="nt">gid</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">110000</span>
</code></pre></div>
<p><span class="parent-field">storage.volumes.<code>&lt;volume&gt;</code>.efs.</span><a id="id" href="#id" class="field"><code>id</code></a> <span class="type">String</span><br />
Required. The ID of the filesystem you would like to mount.</p>
<p><span class="parent-field">storage.volumes.<code>&lt;volume&gt;</code>.efs.id.</span><a id="from_cfn" href="#from_cfn" class="field"><code>from_cfn</code></a> <span class="type">String</span> <span class="version">Added in <a href="../../../blogs/release-v130/#deployment-actions">v1.30.0</a></span><br />
The name of a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html">CloudFormation stack export</a>.</p>
<p><span class="parent-field">storage.volumes.<code>&lt;volume&gt;</code>.efs.</span><a id="root_dir" href="#root-dir" class="field"><code>root_dir</code></a> <span class="type">String</span><br />
Optional. Defaults to <code>/</code>. Specify the location in the EFS filesystem you would like to use as the root of your volume. Must be fewer than 255 characters and must consist only of the characters <code>a-zA-Z0-9.-_/</code>. If using an access point, <code>root_dir</code> must be either empty or <code>/</code> and <code>auth.iam</code> must be <code>true</code>.</p>
<p><span class="parent-field">storage.volumes.<code>&lt;volume&gt;</code>.efs.</span><a id="uid" href="#uid" class="field"><code>uid</code></a> <span class="type">Uint32</span><br />
Optional. Must be specified with <code>gid</code>. Mutually exclusive with <code>root_dir</code>, <code>auth</code>, and <code>id</code>. The POSIX UID to use for the dedicated access point created for the managed EFS filesystem.</p>
<p><span class="parent-field">storage.volumes.<code>&lt;volume&gt;</code>.efs.</span><a id="gid" href="#gid" class="field"><code>gid</code></a> <span class="type">Uint32</span><br />
Optional. Must be specified with <code>uid</code>. Mutually exclusive with <code>root_dir</code>, <code>auth</code>, and <code>id</code>. The POSIX GID to use for the dedicated access point created for the managed EFS filesystem.</p>
<p><span class="parent-field">storage.volumes.<code>&lt;volume&gt;</code>.efs.</span><a id="auth" href="#auth" class="field"><code>auth</code></a> <span class="type">Map</span><br />
Specify advanced authorization configuration for EFS.</p>
<p><span class="parent-field">storage.volumes.<code>&lt;volume&gt;</code>.efs.auth.</span><a id="iam" href="#iam" class="field"><code>iam</code></a> <span class="type">Boolean</span><br />
Optional. Defaults to <code>true</code>. Whether or not to use IAM authorization to determine whether the volume is allowed to connect to EFS.</p>
<p><span class="parent-field">storage.volumes.<code>&lt;volume&gt;</code>.efs.auth.</span><a id="access_point_id" href="#access-point-id" class="field"><code>access_point_id</code></a> <span class="type">String</span><br />
Optional. Defaults to <code>""</code>. The ID of the EFS access point to connect to. If using an access point, <code>root_dir</code> must be either empty or <code>/</code> and <code>auth.iam</code> must be <code>true</code>.</p>
<div class="separator"></div>

<p><a id="publish" href="#publish" class="field"><code>publish</code></a> <span class="type">Map</span><br />
The <code>publish</code> section allows services to publish messages to one or more SNS topics.</p>
<div class="highlight"><pre><span></span><code><span class="nt">publish</span><span class="p">:</span>
  <span class="nt">topics</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">orderEvents</span>
</code></pre></div>
<p>In the example above, this manifest declares an SNS topic named <code>orderEvents</code> that other worker services deployed to the Copilot environment can subscribe to. An environment variable named <code>COPILOT_SNS_TOPIC_ARNS</code> is injected into your workload as a JSON string.</p>
<p>In JavaScript, you could write:
<div class="highlight"><pre><span></span><code><span class="kd">const</span> <span class="p">{</span><span class="nx">orderEvents</span><span class="p">}</span> <span class="o">=</span> <span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">COPILOT_SNS_TOPIC_ARNS</span><span class="p">)</span>
</code></pre></div>
For more details, see the <a href="../../developing/publish-subscribe/">pub/sub</a> page.</p>
<p><span class="parent-field">publish.</span><a id="publish-topics" href="#publish-topics" class="field"><code>topics</code></a> <span class="type">Array of topics</span><br />
List of <a href="#publish-topics-topic"><code>topic</code></a> objects.</p>
<p><span class="parent-field">publish.topics.</span><a id="publish-topics-topic" href="#publish-topics-topic" class="field"><code>topic</code></a> <span class="type">Map</span><br />
Holds configuration for a single SNS topic.</p>
<p><span class="parent-field">publish.topics.topic.</span><a id="publish-topics-topic-name" href="#publish-topics-topic-name" class="field"><code>name</code></a> <span class="type">String</span><br />
Required. The name of the SNS topic. Must contain only upper and lowercase letters, numbers, hyphens, and underscores.</p>
<p><span class="parent-field">publish.topics.topic.</span><a id="publish-topics-topic-fifo" href="#publish-topics-topic-fifo" class="field"><code>fifo</code></a> <span class="type">Boolean or Map</span><br />
FIFO (first in, first out) SNS topic configuration.<br />
If you specify <code>true</code>, Copilot will create the topic with FIFO ordering.</p>
<div class="highlight"><pre><span></span><code><span class="nt">publish</span><span class="p">:</span>
  <span class="nt">topics</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mytopic</span>
      <span class="nt">fifo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<p>Alternatively, you can also configure advanced SNS FIFO topic settings.
<div class="highlight"><pre><span></span><code><span class="nt">publish</span><span class="p">:</span>
  <span class="nt">topics</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mytopic</span>
      <span class="nt">fifo</span><span class="p">:</span>
        <span class="nt">content_based_deduplication</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div></p>
<p><span class="parent-field">publish.topics.topic.fifo.</span><a id="publish-topics-topic-fifo-content-based-deduplication" href="#publish-topics-topic-fifo-content-based-deduplication" class="field"><code>content_based_deduplication</code></a> <span class="type">Boolean</span> <br />
If the message body is guaranteed to be unique for each published message, you can enable content-based deduplication for the SNS FIFO topic.</p>
<div class="separator"></div>

<p><a id="logging" href="#logging" class="field"><code>logging</code></a> <span class="type">Map</span><br />
The logging section contains log configuration. You can also configure parameters for your container's <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/using_firelens.html">FireLens</a> log driver in this section (see examples <a href="../../developing/sidecars/#sidecar-patterns">here</a>).</p>
<p><span class="parent-field">logging.</span><a id="retention" href="#logging-retention" class="field"><code>retention</code></a> <span class="type">Integer</span><br />
Optional. The number of days to retain the log events. See <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loggroup.html#cfn-logs-loggroup-retentionindays">this page</a> for all accepted values. If omitted, the default is 30.</p>
<p><span class="parent-field">logging.</span><a id="logging-image" href="#logging-image" class="field"><code>image</code></a> <span class="type">Map</span><br />
Optional. The Fluent Bit image to use. Defaults to <code>public.ecr.aws/aws-observability/aws-for-fluent-bit:stable</code>.</p>
<p><span class="parent-field">logging.</span><a id="logging-destination" href="#logging-destination" class="field"><code>destination</code></a> <span class="type">Map</span><br />
Optional. The configuration options to send to the FireLens log driver.</p>
<p><span class="parent-field">logging.</span><a id="logging-enableMetadata" href="#logging-enableMetadata" class="field"><code>enableMetadata</code></a> <span class="type">Map</span><br />
Optional. Whether to include ECS metadata in logs. Defaults to <code>true</code>.</p>
<p><span class="parent-field">logging.</span><a id="logging-secretOptions" href="#logging-secretOptions" class="field"><code>secretOptions</code></a> <span class="type">Map</span><br />
Optional. The secrets to pass to the log configuration.</p>
<p><span class="parent-field">logging.</span><a id="logging-configFilePath" href="#logging-configFilePath" class="field"><code>configFilePath</code></a> <span class="type">Map</span><br />
Optional. The full config file path in your custom Fluent Bit image.</p>
<p><span class="parent-field">logging.</span><a id="logging-envFile" href="#logging-envFile" class="field"><code>env_file</code></a> <span class="type">String</span><br />
The path to a file from the root of your workspace containing the environment variables to pass to the logging sidecar container. For more information about the environment variable file, see <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/taskdef-envfiles.html#taskdef-envfiles-considerations">Considerations for specifying environment variable files</a>.</p>
<div class="separator"></div>

<p><a id="observability" href="#observability" class="field"><code>observability</code></a> <span class="type">Map</span>    <br />
The <code>observability</code> section lets you configure ways to measure your service's current state. Currently, only tracing configuration is supported.</p>
<p>For more details, see the <a href="../../developing/observability/">observability</a> page.</p>
<p><span class="parent-field">observability.</span><a id="observability-tracing" href="#observability-tracing" class="field"><code>tracing</code></a> <span class="type">String</span>  <br />
The vendor to use for tracing. Currently, only <code>awsxray</code> is supported.</p>
<div class="separator"></div>

<p><a id="taskdef_overrides" href="#taskdef_overrides" class="field"><code>taskdef_overrides</code></a> <span class="type">Array of Rules</span><br />
The <code>taskdef_overrides</code> section allows users to apply overriding rules to their ECS Task Definitions (see examples <a href="../../developing/overrides/taskdef-overrides/#examples">here</a>).</p>
<p><span class="parent-field">taskdef_overrides.</span><a id="taskdef_overrides-path" href="#taskdef_overrides-path" class="field"><code>path</code></a> <span class="type">String</span>
Required. Path to the Task Definition field to override.</p>
<p><span class="parent-field">taskdef_overrides.</span><a id="taskdef_overrides-value" href="#taskdef_overrides-value" class="field"><code>value</code></a> <span class="type">Any</span>
Required. Value of the Task Definition field to override.</p>
<div class="separator"></div>

<p><a id="environments" href="#environments" class="field"><code>environments</code></a> <span class="type">Map</span><br />
The environment section lets you override any value in your manifest based on the environment you're in. In the example manifest above, we're overriding the count parameter so that we can run 2 copies of our service in our 'prod' environment, and 2 copies using Fargate Spot capacity in our 'staging' environment.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        

<!-- Application footer -->
<footer class="md-footer">
  <!-- Further information -->
  <div class="md-footer-meta md-typeset" style="background-color: #fff;">
    <div class="md-footer-meta__inner md-grid" style="background-color: #fff;">

      <!-- Copyright and theme information -->
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight" style="color: rgb(38, 38, 38);">
            Copyright &copy; 2023 Amazon
          </div>
        
        <div style="color: rgb(38, 38, 38);">
          Made with
          <a
                  href="https://squidfunk.github.io/mkdocs-material/"
                  target="_blank" rel="noopener"
                  style="color: black;"
          >
            Material for MkDocs
          </a>
        </div>
      </div>

      <!-- Social links -->
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["tabs", "instant", "navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.fcfe8b6d.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b1047164.min.js"></script>
      
    
  </body>
</html>